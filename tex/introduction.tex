\chapter{绪论}
\label{chap: Introduction}


\section{课题主要研究内容及背景}
网络功能虚拟化(NFV, Network Function Virtualization)是由欧洲电信标准组织 (ETSI) 从网络运营商的角度出发提出的一种软件和硬件分离的架构，是当前学术界和工业界十分热门的话题之一，其实质是通过标准化的IT虚拟化技术，采用业界标准的大容量服务器、存储和交换机承载各种各样的网络软件功能，实现软件的灵活加载，从而可以在数据中心、网络节点和用户端等不同位置灵活部署 。随着近些年来学术界和工业界的携手推进，NFV正在逐步的落地并替代传统的通信服务平台。NFV利用标准IT虚拟化技术来加速网络运营商和服务提供商的服务更新。如今的网络是由各不相同的网络设备彼此相连或者串接而成，从而实现特定的服务功能，但这恰恰成为了网络服务更新的掣肘。NFV的目标是使用虚拟的网络功能来替代这些特定的网络设备，在x86等通用性硬件上利用虚拟机化技术来承载大量的网络功能软件，从而降低网络昂贵的设备成本。NFV技术可以通过软硬件结构及功能抽象，使网络设备功能不再依赖专用硬件，资源可以充分灵活共享，实现新业务的快速开发和部署，并基于实际业务需求进行自动部署、弹性伸缩、故障隔离和自愈。为了实现NFV，保证NFV从专门的硬件中迁移到普通服务器中性能不下降是主要的挑战之一。而目前的通用服务器要面对：通信网络中数据面的大负载而带来的性能压力；电信网络拓扑对管理的严格要求。这些挑战都亟待解决，并且对实现NFV功能落地具有重要意义。

在NFV的热点技术中，虚拟化资源调度是十分火热的一项，而其中的业务链(SFC，Service Function Chain)更是因为其接近实际应用场景的特点，受到广大研究的重点关注。在网络中，负载均衡器、网关、以及虚拟防火墙等功能共同被称为业务功能点，而流量在经过了一系列处理后，形成了所谓的SFC。与虚拟化流量调度方式不同，该方式更倾向于对虚拟网络中如何通过控制服务器对网络流量转发进行编程控制，即以更为灵活的方式实现流量到业务功能点的调配和处理。而在SFC中网络的转发效率决定了整体网络的性能，所以如何优化虚拟化资源调度对于提升NFV性能具有重要意义。

\section{国内外研究现状}
本节介绍并讨论与研究课题相关的国内外研究现状与发展趋势，重点包括国内外研究中
目前关于NFV的性能问题已经引起了学术界和工业界的广泛关注。在近两年的高水平学术会议上所提出的NFV相关论文都有提到如何实现高性能NFV的相关文章。

其中：
Hawilo等人提到，随着移动网络用户期待5G网络的连接速度，服务提供商在不需要大量金融投资的情况下面临连接需求的挑战。 网络功能虚拟化（NFV）被引入作为一种新方法，提供了一个摆脱这个瓶颈的办法。 NFV有望改变电信基础设施的核心架构，使之更具成本效益。在论文中，他们介绍一个NFV框架，并讨论其在移动网络中的使用的挑战和要求。特别地，提出了虚拟环境中的NFV框架。此外，为了减少信令流量并实现更好的性能，本文提出了在单个物理设备或一组相邻设备中捆绑虚拟化演进分组核心的多个功能的标准。分析表明，提出的分组可以将网络控制流量减少70％。

Palkar等人通过将网络设备功能从专有硬件移动到软件，网络功能虚拟化有望将云计算的优势带入网络数据包处理。 然而，云计算（特别是数据分析）的演进，非常受益于应用程序无关的缩放和放置方法，从而实现高效率，同时减轻了程序员的这些负担。 NFV没有这样的一般管理解决方案。 在论文中，他们提出了一种用于数据包处理的可扩展和应用无关的调度框架，并将其性能与当前方法进行比较。

OSDI2016的文章中，Panda等人认为NFV倡导的从硬件中间盒到软件网络功能的转变已经证明比预期更具挑战性。 开发新的NF仍然是一个繁琐的过程，要求开发人员反复重新发现并重新应用同一组优化，而目前用于提供NF之间（使用VM或容器）隔离的技术会带来高性能开销。 在文章中，他们描述了NetBricks，一个新的NFV框架来解决这两个问题。 对于构建NF，我们从现代数据分析框架（例如Spark和Dryad）中获得灵感，并构建一小组可定制的网络处理元素。 他们还拥抱类型检查和安全运行时间，以提供软件隔离，而不是依靠硬件隔离。 NetBricks提供与容器和虚拟机相同的内存隔离，而不会产生相同的性能损失。 为了提高I/O效率，他们引入了一种称为零拷贝软件隔离的新技术。

Mijumbi等人在IEEE Communications Surveys \& Tutorials 中发表的调研中对NFV所面对的挑战和研究热点做了总结。网络功能虚拟化（NFV）引起了业界和学术界的重视，成为电信业务提供的重要转变。通过将网络功能（NF）与其运行的物理设备脱钩，NFV有可能导致运营费用（OPEX）和资本支出（CAPEX）的显着降低，并有助于以更高的敏捷性和更快的时间部署新服务价值。 NFV范式仍处于起步阶段，研究团体有很多机会开发新的架构，系统和应用程序，并评估其成功部署开发技术的替代方案和权衡。在本文中，在讨论了NFV及其与软件定义网络（SDN）和云计算的互补领域的关系后，他们对NFV的最新技术进行了调查，并确定了该领域有前途的研究方向。他们还概述了关键的NFV项目，标准化工作，早期实施，用例和商业产品。
进一步的，Mijumbi等人对NFV中重点的管理和编排业务也做出了相应的调研。
NFV继续引起行业和学术界的研究人员的极大关注。通过将NF与其运行的物理设备分离，NFV承诺降低CAPEX和OPEX，使网络更具可扩展性和灵活性，并提高服务敏捷性。然而，尽管它获得了前所未有的兴趣，但在NFV可以在工业部署中实现现实之前，仍然存在必须克服的障碍，更不用说实现预期的收益。在这样做的同时，需要解决与网络和功能MANO相关的重要挑战。在本文中，他们介绍NFV并概述ETSI提出的MANO框架。然后，他们将介绍以MANO为重点的代表性项目和供应商产品，并讨论其功能和与框架的关系。最后确定开放的MANO挑战以及未来研究的机会。

Han Bo等人认为：提出了网络功能虚拟化，以提高网络服务配置的灵活性，缩短新服务的上市时间。通过利用虚拟化技术和商业现成的可编程硬件（如通用服务器，存储和交换机），NFV将网络功能的软件实现与底层硬件分离。作为一种新兴技术，NFV为网络运营商带来了诸多挑战，例如虚拟设备的网络性能保证，动态实例化和迁移以及高效布局。在文章中，他们简要概述了NFV，解释其需求和架构框架，介绍了几个用例，并在这个蓬勃发展的研究领域中讨论了挑战和未来发展方向。

对于实现高性能的NFV，Martins, Joao等人也提到：多年来，中间盒已经成为当今网络的基础。尽管它们具有实用性，但却带来了许多问题，其中许多问题源自于它们是基于硬件的：它们代价昂贵，难以管理，而且其功能难以或不可能改变。为了解决这些问题，最近网络功能虚拟化（NFV）的趋势，本质上是提出将这些中间箱转变为基于软件的虚拟化实体。为实现这一目标，我们引入了一个高性能虚拟化软件中间件平台ClickOS。 ClickOS虚拟机体积小（5MB），启动速度快（约30毫秒），增加一点延迟（45微秒），超过一百个可以在商品服务器上的10Gb管道饱和的同时运行。他们进一步实施包括防火墙，运营商级NAT和负载均衡器在内的各种中间箱，并显示ClickOS可以处理每秒数百万个数据包。

Yang Hu, Tao Li等人认为：近年来，随着数据需求的不断增长，网络基础设施发生了革命。网络功能虚拟化（NFV）已经被服务和云提供商广泛采用。 NFV的本质是将网络功能作为虚拟化商品的工作负载运行标准大容量服务器（SHVS)是行业标准。然而，我们在使用NFV时的经验在部署在现代基于NUMA的SHVS绘制了令人沮丧的画面。因为
NFV数据平面及其服务功能链的复杂性特征，现代NFV部署在SHVS上表现出独特性
处理模式 - 异构软件流水线（HSP）NFV流量必须由异构处理软件组件从NIC到终端接收器。由于流程的端到端性能是合作的由每个处理阶段的性能决定基于NUMA的SHVS中的资源分配/映射方案必须考虑线程依赖调度来折衷影响的共同争用和远程数据包传输。在文章中，他们开发了一个线程调度机制协调放置HSP的线程以最小化端到端NFV交通流量性能下降。它采用动态的基于编程的方法来搜索最优线程映射具有可忽略的开销。为了服务这个机制，我们还开发了一个性能下降估计模型准确估计每个阶段的业绩下滑HSP。实现我们的协作线程调度机制在真正的系统上，并使用真正的工作负载进行评估。平均而言，我们的算法胜过最先进的NUMA aware和竞争意识调度策略至少7％CPU利用率和23％的流量吞吐量可忽略不计计算开销（少于1秒）。

Hsieh, Cheng-Husan等人认为网络功能虚拟化（NFV）近年来引起了广泛的关注，其中一些曾经部署在特定硬件上的网络功能已经成为一般服务器上的虚拟化实例，以实现更大的可扩展性和灵活性。在数据中心，服务功能链(SFC)使工作流以特定的顺序遍历不同的网络功能，为其客户提供不同级别的服务。由于服务链中任何相邻网络功能之间的距离将决定该链路的总带宽消耗，虚拟化网络功能在数据中心中的放置成为重要的问题。在这项研究中，这种放置问题被视为一个多层垃圾箱包装问题。针对树状网络拓扑提出了两种贪心算法：多层最差拟合（MWF）和多层最佳拟合（MBF）。此外，放置问题被表达为整数线性规划。实验结果表明，与传统的Best-fit算法相比，MWF可以将带宽消耗降低15％，而仅使用服务器数量增加1％。


\subsection{网络功能虚拟化}
\subsection{其他相关研究}
\subsection{高速包转发框架}

\section{论文安排}
本文对网络功能虚拟化中，虚拟机资源调度进行了研究，论文的具体结构和内容安排如下：
第一章作为绪论，主要介绍了本课题的主要研究内容和研究背景。进一步的对于本研究相关的工作进行了介绍和梳理，
第二章
第三章
第四章
第五章
\section{本章小结}
